<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>AutoQuery DynamoDB Data Source | Documentation</title>
    <meta name="description" content="ServiceStack Docs">
    <link rel="stylesheet" href="/assets/style.b5bfd3ef.css">
    <link rel="modulepreload" href="/assets/Home.d1536508.js">
    <link rel="modulepreload" href="/assets/app.14440598.js">
    <link rel="modulepreload" href="/assets/autoquery-dynamodb.md.0410734c.lean.js">
    <link rel="modulepreload" href="/assets/app.14440598.js">
    <script src="custom.js"></script>
    <meta name="twitter:title" content="AutoQuery DynamoDB Data Source | Documentation">
    <meta property="og:title" content="AutoQuery DynamoDB Data Source | Documentation">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-675d8756><div class="sidebar-button" data-v-675d8756><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/" aria-label="Documentation, back to home" data-v-675d8756 data-v-4a583abe><!----> Documentation</a><div class="flex-grow" data-v-675d8756></div><div class="nav" data-v-675d8756><nav class="nav-links" data-v-675d8756 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://servicestack.net/whatsnew" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>What&#39;s New <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/templates-overview" data-v-b8818f8c>Project Templates <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item active" href="/autoquery" data-v-b8818f8c>AutoQuery <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/auth" data-v-b8818f8c>Security <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/grpc" data-v-b8818f8c>gRPC <!----></a></div></div><!--]--><!----><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/ServiceStack/vitepress-docs" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav></div><!--[--><!--]--></header><aside class="sidebar" data-v-83e92a68><nav class="nav-links nav" data-v-83e92a68 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://servicestack.net/whatsnew" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>What&#39;s New <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/templates-overview" data-v-b8818f8c>Project Templates <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item active" href="/autoquery" data-v-b8818f8c>AutoQuery <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/auth" data-v-b8818f8c>Security <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/grpc" data-v-b8818f8c>gRPC <!----></a></div></div><!--]--><!----><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/ServiceStack/vitepress-docs" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav><!--[--><!--]--><ul class="sidebar-links" data-v-83e92a68><!--[--><li class="sidebar-link"><p class="sidebar-link-item">AutoQuery</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/autoquery">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/autoquery-rdbms">AutoQuery RDBMS</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/autoquery-data">AutoQuery Data</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/autoquery-memory">AutoQuery Data Memory</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/autoquery-service">AutoQuery Data Service</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item active" href="/autoquery-dynamodb">AutoQuery Data DynamoDB</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/autoquery-crud">AutoQuery CRUD</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/autoquery-audit-log">AutoQuery Audit Log</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/autoquery-autogen">AutoGen</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/autoquery-crud-bookings">AutoQuery CRUD Bookings Demo</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/why-not-odata">Why Not OData</a><!----></li></ul></li><!--]--></ul><!--[--><!--]--></aside><!-- TODO: make this button accessible --><div class="sidebar-mask"></div><main class="page" data-v-7eddb2c4><div class="container" data-v-7eddb2c4><!--[--><!--[--><!----><!--]--><!--[--><h1>AutoQuery DynamoDB Data Source</h1><!--]--><!--]--><div style="position:relative;" class="content" data-v-7eddb2c4><div><p>AutoQuery Data&#39;s <code>DynamoDbSource</code> provides the most productive development experience for effortlessly creating rich, queryable and optimized Services for <a href="https://aws.amazon.com/dynamodb/" target="_blank" rel="noopener noreferrer">DynamoDB data stores</a>.</p><p><a href="https://github.com/ServiceStack/PocoDynamo" target="_blank" rel="noopener noreferrer"><img src="https://raw.githubusercontent.com/ServiceStack/Assets/master/img/release-notes/dynamodb-banner.png" alt=""></a></p><p>DynamoDB is the near perfect solution if you&#39;re on AWS and in need of a managed NoSQL data storage solution that can achieve near-infinite scale whilst maintaining constant single-digit millisecond performance. The primary issue with DynamoDB however is working with it&#39;s unstructured schema and API&#39;s which is reflected in the official .NET DynamoDB client providing a flexible but low-level and cumbersome development experience to work with directly. Most of these shortcomings are resolved with our POCO-friendly <a href="https://github.com/ServiceStack/PocoDynamo" target="_blank" rel="noopener noreferrer">PocoDynamo</a> client which provides an intuitive and idiomatic Typed .NET API that lets you reuse your DTO&#39;s and OrmLite POCO Data Models for persistence in DynamoDB.</p><p>Querying in DynamoDB is even more cumbersome, unlike an RDBMS which can process ad hoc queries on non-indexed fields with decent performance, every query in DynamoDB needs to be performed on an index defined ahead-of-time. Any queries not on an index needs to be sent as a Filter Expression and even more limiting is that queries can only be executed against rows containing the same hash id. If you need to query data spanning across multiple hash ids you either need to create a separate <a href="http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/GSI.html" target="_blank" rel="noopener noreferrer">Global Index</a> or perform a full <a href="http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/QueryAndScan.html#QueryAndScan.Scan" target="_blank" rel="noopener noreferrer">SCAN operation</a> which is even slower than full table scans on an RDBMS as they need to be performed on all underlying sharded nodes which can quickly eat up your reserved provisioned throughput allotted to your DynamoDB table.</p><h3 id="optimal-dynamodb-queries" tabindex="-1">Optimal DynamoDB Queries <a class="header-anchor" href="#optimal-dynamodb-queries" aria-hidden="true">#</a></h3><p>With AutoQuery&#39;s <code>DynamoDbSource</code> a lot of these nuances are transparently handled where it will automatically create the most optimal DynamoDB Query based on the fields populated on the incoming AutoQuery Request DTO. E.g. it will perform a <a href="http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/QueryAndScan.html#QueryAndScan.Query" target="_blank" rel="noopener noreferrer">DynamoDB Query</a> when the <strong>Hash</strong> field is populated otherwise transparently falls back into a <a href="http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/QueryAndScan.html#QueryAndScan.Scan" target="_blank" rel="noopener noreferrer">Scan Operation</a>. Any conditions that query an Index field are added to the <a href="http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/QueryAndScan.html#QueryAndScan.Query" target="_blank" rel="noopener noreferrer">Key Condition</a>, starting first with the <strong>Range Key</strong> (if specified), otherwise uses any populated <strong>Local Indexes</strong> it can find before any of the remaining conditions are added to the <a href="http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/QueryAndScan.html#FilteringResults" target="_blank" rel="noopener noreferrer">Filter Expression</a>.</p><p>Transparently adopting the most optimal queries dramatically reduces development time as it lets you quickly create, change and delete DynamoDB Services without regard for Indexes where it will often fallback to <strong>SCAN</strong> operations (performance of which is unnoticeable during development). Then once you&#39;re project is ready to deploy to production, go back and analyze all remaining queries your System relies on at the end then re-create tables with the appropriate indexes so that all App queries are efficiently querying an index.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>When needed you can specify <code>.DynamoDbSource&lt;T&gt;(allowScans:false)</code> to disable anyone from executing SCAN requests when deployed to production</p></div><h3 id="download" tabindex="-1">Download <a class="header-anchor" href="#download" aria-hidden="true">#</a></h3><p>To Get Started Install <a href="https://github.com/ServiceStack/ServiceStack.Aws" target="_blank" rel="noopener noreferrer">ServiceStack&#39;s AWS Support package</a> from NuGet:</p><div class="package-reference-box"><div class="flex"><div class="flex-grow pre-container" style="background:#002440;"><pre class="sh copy m-0 p-0 pl-2 py-1 align-middle" style="background:#002440;"><p><code>&lt;PackageReference Include=&quot;ServiceStack.Aws&quot; Version=&quot;5.*&quot; /&gt;</code></p>
</pre></div><div class="flex-shrink"><i class="svg-copy inline-block w-8 h-full" title="copy" onclick="copy(this)"></i><b></b></div></div><div class="copy-text w-full text-right h-6"></div></div><h3 id="simple-autoquery-data-example" tabindex="-1">Simple AutoQuery Data Example <a class="header-anchor" href="#simple-autoquery-data-example" aria-hidden="true">#</a></h3><p>To illustrate how to use AutoQuery with DynamoDB we&#39;ll walk through a simple example of querying Rockstars Albums. For this example we&#39;ll specify <a href="/autoquery.html#explicit-conventions">explicit conventions</a> so we can use ServiceStack&#39;s <a href="/csharp-client.html">typed .NET Service Clients</a> to show which fields we&#39;re going to query and also lets us call the Service with a convenient typed API:</p><div class="language-csharp"><pre><code><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Route</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;/rockstar-albums&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">QueryRockstarAlbums</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">QueryData<span class="token punctuation">&lt;</span>RockstarAlbum<span class="token punctuation">&gt;</span></span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span><span class="token punctuation">?</span></span> Id <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>         <span class="token comment">// Primary Key | Range Key</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span><span class="token punctuation">?</span></span> RockstarId <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token comment">// Foreign key | Hash Key</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Name <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Genre <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> IdBetween <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Here we see that creating DynamoDB Queries is no different to any other AutoQuery Data Service, where the same definition is used irrespective if the data source was populated from a <code>MemorySource</code>, <code>ServiceSource</code> or <code>DynamoDbSource</code> and the only thing that would need to change to have it query an RDBMS instead is the <code>QueryDb&lt;T&gt;</code> base class.</p><p>The text in comments highlight that when the <code>RockstarAlbum</code> POCO is stored in an RDBMS <a href="https://github.com/ServiceStack/ServiceStack.OrmLite" target="_blank" rel="noopener noreferrer">OrmLite</a> creates the table with the <code>Id</code> as the Primary Key and <code>RockstarId</code> as a Foreign Key to the <code>Rockstar</code> table. This is different in DynamoDB where <a href="https://github.com/ServiceStack/PocoDynamo" target="_blank" rel="noopener noreferrer">PocoDynamo</a> behavior is to keep related records together so they can be efficiently queried and will instead Create the <code>RockstarAlbum</code> DynamoDB Table with the <code>RockstarId</code> as the Hash Key and its unique <code>Id</code> as the Range Key.</p><h4 id="register-dynamodbsource" tabindex="-1">Register DynamoDbSource <a class="header-anchor" href="#register-dynamodbsource" aria-hidden="true">#</a></h4><p>To use DynamoDB AutoQuery&#39;s you need to first configure <a href="https://github.com/ServiceStack/PocoDynamo#download" target="_blank" rel="noopener noreferrer">PocoDynamo</a> which is just a matter of passing an an initialized <code>AmazonDynamoDBClient</code> and telling PocoDynamo which DynamoDB tables you intend to use:</p><div class="language-csharp"><pre><code>container<span class="token punctuation">.</span><span class="token function">Register</span><span class="token punctuation">(</span>c <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">PocoDynamo</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">AmazonDynamoDBClient</span><span class="token punctuation">(</span><span class="token range operator">..</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token generic-method"><span class="token function">RegisterTable</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Rockstar<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token generic-method"><span class="token function">RegisterTable</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>RockstarAlbum<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Then before using PocoDynamo, call <code>InitSchema()</code> to tell it to automatically go through and create all DynamoDB Tables that were registered but don&#39;t yet exist in DynamoDB:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> dynamo <span class="token operator">=</span> container<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Resolve</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>IPocoDynamo<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
dynamo<span class="token punctuation">.</span><span class="token function">InitSchema</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>So the first time <code>InitSchema()</code> is run it will create both <code>Rockstar</code> and <code>RockstarAlbum</code> tables but will no longer create any tables on any subsequent runs. After <code>InitSchema()</code> has completed we&#39;re assured that both <code>Rockstar</code> and <code>RockstarAlbum</code> tables exist so we can start using PocoDynamo&#39;s typed APIs to populate them with Data:</p><div class="language-csharp"><pre><code>dynamo<span class="token punctuation">.</span><span class="token function">PutItems</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Rockstar<span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token punctuation">{</span> <span class="token range operator">..</span><span class="token punctuation">.</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
dynamo<span class="token punctuation">.</span><span class="token function">PutItems</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">RockstarAlbum<span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token punctuation">{</span> <span class="token range operator">..</span><span class="token punctuation">.</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>Behind the scenes PocoDynamo efficiently creates the minimum number of <a href="http://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_BatchWriteItem.html" target="_blank" rel="noopener noreferrer">BatchWriteItem</a> requests as necessary to store all Rockstar and RockstarAlbum&#39;s.</p></blockquote><p>Now that we have data we can query we can register the AutoQuery Data plugin along with the <code>Rockstar</code> and <code>RockstarAlbum</code> DynamoDB Tables we want to be able to query:</p><div class="language-csharp"><pre><code>Plugins<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">AutoQueryDataFeature</span> <span class="token punctuation">{</span> MaxLimit <span class="token operator">=</span> <span class="token number">100</span> <span class="token punctuation">}</span>
    <span class="token punctuation">.</span><span class="token function">AddDataSource</span><span class="token punctuation">(</span>ctx <span class="token operator">=&gt;</span> ctx<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">DynamoDbSource</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Rockstar<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">AddDataSource</span><span class="token punctuation">(</span>ctx <span class="token operator">=&gt;</span> ctx<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">DynamoDbSource</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>RockstarAlbum<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="rockstaralbum-poco-table-definition" tabindex="-1">RockstarAlbum POCO Table Definition <a class="header-anchor" href="#rockstaralbum-poco-table-definition" aria-hidden="true">#</a></h4><p>Where <code>RockstarAlbum</code> is just a simple POCO and can be used as-is throughout all of ServiceStack&#39;s libraries inc. OrmLite, Redis, Caching Providers, Serializers, etc:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RockstarAlbum</span>
<span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">AutoIncrement</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> Id <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">References</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">Rockstar</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> RockstarId <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Index</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Genre <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Name <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>PocoDynamo uses the same generic metadata attributes in <strong>ServiceStack.Interfaces</strong> as OrmLite.</p><p>When this POCO is created in OrmLite it creates:</p><ul><li>A <code>RockstarAlbum</code> table with an <code>Id</code> auto incrementing <strong>Primary Key</strong></li><li>The <code>RockstarId</code> as the <strong>Foreign Key</strong> for the <code>Rockstar</code> table</li><li>Adds an <strong>Index</strong> on the <code>Genre</code> column.</li></ul><p>Whereas in DynamoDB, PocoDynamo creates:</p><ul><li>The <code>RockstarAlbum</code> table with the <code>Id</code> as an auto incrementing <strong>Range Key</strong></li><li>The <code>RockstarId</code> as the <strong>Hash Key</strong></li><li>Creates a <a href="http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/LSI.html" target="_blank" rel="noopener noreferrer">Local Secondary Index</a> for the Genre attribute.</li></ul><h3 id="typed-autoquery-dynamodb-queries" tabindex="-1">Typed AutoQuery DynamoDB Queries <a class="header-anchor" href="#typed-autoquery-dynamodb-queries" aria-hidden="true">#</a></h3><p>Since the properties we want to query are explicitly typed we can make use of ServiceStack&#39;s nice typed Service Client API&#39;s to call this Service and fetch Kurt Cobains <strong>Grunge</strong> Albums out of the first 5 recorded:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">QueryRockstarAlbums</span> <span class="token punctuation">{</span> <span class="token comment">//QUERY </span>
    RockstarId <span class="token operator">=</span> kurtCobainId<span class="token punctuation">,</span> <span class="token comment">//Key Condition</span>
    IdBetween <span class="token operator">=</span> <span class="token keyword">new</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">//Key Condition</span>
    Genre <span class="token operator">=</span> <span class="token string">&quot;Grunge&quot;</span><span class="token punctuation">,</span>          <span class="token comment">//Filter Condition</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

response<span class="token punctuation">.</span><span class="token function">PrintDump</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Pretty print results to Console</span>
</code></pre></div><p>As illustrated in the comments, DynamoDB AutoQuery performs the most efficient DynamoDB Query required in order to satisfy this request where it will create a <a href="http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/QueryAndScan.html#QueryAndScan.Query" target="_blank" rel="noopener noreferrer">Query Request</a> with the <code>RockstarId</code> and <code>IdBetween</code> conditions added to the <strong>Key Condition</strong> and the remaining <code>Genre</code> added as a <strong>Filter Expression</strong>.</p><p>If we instead wanted to fetch all of Kurt Cobains <strong>Grunge</strong> Albums where there was no longer a condition on the Album <code>Id</code> <strong>Range Key</strong>, i.e:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">QueryRockstarAlbums</span> <span class="token punctuation">{</span> <span class="token comment">//QUERY</span>
    RockstarId <span class="token operator">=</span> kurtCobainId<span class="token punctuation">,</span> <span class="token comment">//Key Condition</span>
    Genre <span class="token operator">=</span> <span class="token string">&quot;Grunge&quot;</span><span class="token punctuation">,</span>          <span class="token comment">//Key Condition</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>It would instead create a <strong>Query Request</strong> configured to use the Genre <strong>Local Secondary Index</strong> and have added both <code>RockstarId</code> Hash Key and index <code>Genre</code> to the <strong>Key Condition</strong>.</p><p>But if you instead wanted to view all Grunge Albums, i.e:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">QueryRockstarAlbums</span> <span class="token punctuation">{</span> <span class="token comment">//SCAN</span>
    Genre <span class="token operator">=</span> <span class="token string">&quot;Grunge&quot;</span>            <span class="token comment">//Filter Condition</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>As no Hash Key was specified it would instead create a <strong>SCAN Request</strong> where as there&#39;s no index, it adds all conditions to the <strong>Filter Expression</strong>.</p><h3 id="autoquery-dynamodb-global-index-queries" tabindex="-1">AutoQuery DynamoDB Global Index Queries <a class="header-anchor" href="#autoquery-dynamodb-global-index-queries" aria-hidden="true">#</a></h3><p>For times when you need to perform an efficient <strong>Query Request</strong> across multiple hash keys you will need to create a <a href="http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/GSI.html" target="_blank" rel="noopener noreferrer">Global Secondary Index</a>. Luckily this is easy to do in PocoDynamo where you can define Global Indexes with a simple POCO class definition:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RockstarAlbumGenreIndex</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IGlobalIndex<span class="token punctuation">&lt;</span>RockstarAlbum<span class="token punctuation">&gt;</span></span></span>
<span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">HashKey</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Genre <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">RangeKey</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> Id <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Name <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>    <span class="token comment">// projected property</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> RockstarId <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token comment">// projected property</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Global Indexes can be thought of as &quot;automatically synced tables&quot; specified with a different Hash Key. Just like DynamoDB tables you can specify the <strong>Hash Key</strong> you want to globally query and create the Index on as well as a separate <strong>Range Key</strong> you want to be able to perform efficient <strong>Key Condition</strong> queries on. You&#39;ll also want to specify any properties you want returned when querying the Global Index so they&#39;ll be automatically projected and stored with the Global Index, ensuring fast access.</p><p>Then to have PocoDynamo create the Global Index it should be referenced on the table the Global Index is on:</p><div class="language-csharp"><pre><code><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">References</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">RockstarAlbumGenreIndex</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RockstarAlbum</span> <span class="token punctuation">{</span> <span class="token range operator">..</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
</code></pre></div><p>When referenced, <code>InitSchema()</code> will create the <code>RockstarAlbumGenreIndex</code> Global Secondary Index when it creates the <code>RockstarAlbum</code> DynamoDB Table.</p><p>With the Global Index created we can now query it just like we would any other DynamoDB AutoQuery but instead of querying a table, we query the Index instead:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">QueryRockstarAlbumsGenreIndex</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">QueryData<span class="token punctuation">&lt;</span>RockstarAlbumGenreIndex<span class="token punctuation">&gt;</span></span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Genre <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>     <span class="token comment">// Hash Key</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> IdBetween <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>  <span class="token comment">// Range Key</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Name <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Once defined you can query it just like any other AutoQuery Service where you&#39;re now able to perform efficient queries by <strong>Genre</strong> across all Rockstar Album&#39;s:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token keyword">new</span> QueryRockstarAlbumsGenreIndex <span class="token comment">//QUERY</span>
<span class="token punctuation">{</span>
    Genre <span class="token operator">=</span> <span class="token string">&quot;Grunge&quot;</span><span class="token punctuation">,</span>              <span class="token comment">//Key Condition</span>
    IdBetween <span class="token operator">=</span> <span class="token keyword">new</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1000</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">//Key Condition</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="custom-poco-result-mappings" tabindex="-1">Custom POCO Result Mappings <a class="header-anchor" href="#custom-poco-result-mappings" aria-hidden="true">#</a></h3><p>A noticeable difference from querying a Global Index instead of the Table directly is that results are returned in a different <code>RockstarAlbumGenreIndex</code> POCO. Luckily we can use AutoQuery&#39;s <a href="/autoquery.html#returning-custom-results">Custom Results Feature</a> to map the properties back into the original table <code>RockstarAlbum</code> with:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">QueryRockstarAlbumsGenreIndex</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">QueryData<span class="token punctuation">&lt;</span>RockstarAlbumGenreIndex<span class="token punctuation">,</span>RockstarAlbum<span class="token punctuation">&gt;</span></span></span> 
<span class="token punctuation">{</span> 
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Genre <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> IdBetween <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Name <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Now when we query the Index we get our results populated in <code>RockstarAlbum</code> DTO&#39;s instead:</p><div class="language-csharp"><pre><code><span class="token class-name">QueryResponse<span class="token punctuation">&lt;</span>RockstarAlbum<span class="token punctuation">&gt;</span></span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">QueryRockstarAlbumsGenreIndex</span>
<span class="token punctuation">{</span>
    Genre <span class="token operator">=</span> <span class="token string">&quot;Grunge&quot;</span><span class="token punctuation">,</span>              <span class="token comment">//Key Condition</span>
    IdBetween <span class="token operator">=</span> <span class="token keyword">new</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1000</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">//Key Condition</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="caching-autoquery-services" tabindex="-1">Caching AutoQuery Services <a class="header-anchor" href="#caching-autoquery-services" aria-hidden="true">#</a></h3><p>One of the many benefits of AutoQuery Services being just regular ServiceStack Services is that we get access to ServiceStack&#39;s rich ecosystem of enhanced functionality around existing Services. An example added in this release is ServiceStack&#39;s new HTTP Caching feature which lets you easily cache a Service with the new <code>[CacheResponse]</code> attribute, letting you declaratively specify how long you want to cache identical requests for on the <strong>Server</strong> as well as a <code>MaxAge</code> option for instructing the <strong>Client</strong> how long they should consider their local cache is valid for and any custom <code>Cache-Control</code> behavior you want them to have, e.g:</p><div class="language-csharp"><pre><code><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Route</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;/rockstar-albums&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">CacheResponse</span><span class="token attribute-arguments"><span class="token punctuation">(</span>Duration <span class="token operator">=</span> <span class="token number">60</span><span class="token punctuation">,</span> MaxAge <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">,</span> CacheControl <span class="token operator">=</span> CacheControl<span class="token punctuation">.</span>MustRevalidate<span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">QueryRockstarAlbums</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">QueryData<span class="token punctuation">&lt;</span>RockstarAlbum<span class="token punctuation">&gt;</span></span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span><span class="token punctuation">?</span></span> Id <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>         
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span><span class="token punctuation">?</span></span> RockstarId <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Genre <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> IdBetween <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>So with just the above single Request DTO we&#39;ve declaratively created a fully-queryable DynamoDB AutoQuery Service that transparently executes the most ideal DynamoDB queries for each request, has it&#39;s optimal representation efficiently cached on both Server and clients, whose Typed DTO can be reused as-is on the client to call Services with an end-to-end Typed API using any <a href="/csharp-client.html">.NET Service Client</a>, that&#39;s also available to external developers in a clean typed API, natively in their preferred language of choice, accessible with just a right-click menu integrated inside <a href="http://VS.NET" target="_blank" rel="noopener noreferrer">VS.NET</a>, Xcode, Android Studio, IntelliJ and Eclipse - serving both PCL Xamarin.iOS/Android as well as native iOS and Android developers by just<br><a href="/add-servicestack-reference.html">Adding a ServiceStack Reference</a> to the base URL of a remote ServiceStack Instance - all without needing to write any implementation!</p><h3 id="more-info" tabindex="-1">More Info <a class="header-anchor" href="#more-info" aria-hidden="true">#</a></h3><p>For more examples exploring different AutoQuery Data features checkout the <a href="https://github.com/ServiceStack/ServiceStack/blob/master/tests/ServiceStack.WebHost.Endpoints.Tests/AutoQueryDataTests.cs" target="_blank" rel="noopener noreferrer">AutoQuery Data Tests</a> and <a href="https://github.com/ServiceStack/ServiceStack/blob/master/tests/ServiceStack.WebHost.Endpoints.Tests/AutoQueryDataTests.Dynamo.cs" target="_blank" rel="noopener noreferrer">AutoQuery DynamoDB Tests</a> that can be compared on a feature-by-feature basis against the existing <a href="https://github.com/ServiceStack/ServiceStack/blob/master/tests/ServiceStack.WebHost.Endpoints.Tests/AutoQueryTests.cs" target="_blank" rel="noopener noreferrer">AutoQuery Tests</a> they were originally based on.</p></div></div><footer class="page-footer" data-v-7eddb2c4 data-v-fb8d84c6><div class="edit" data-v-fb8d84c6><div class="edit-link" data-v-fb8d84c6 data-v-1ed99556><a class="link" href="https://github.com/ServiceStack/vitepress-docs/edit/master/docs/autoquery-dynamodb.md" target="_blank" rel="noopener noreferrer" data-v-1ed99556>Edit this page on GitHub <svg class="icon outbound icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-1ed99556><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><div class="updated" data-v-fb8d84c6><p class="last-updated" data-v-fb8d84c6 data-v-5797b537><span class="prefix" data-v-5797b537>Last Updated:</span><span class="datetime" data-v-5797b537></span></p></div></footer><div class="next-and-prev-link" data-v-7eddb2c4 data-v-38ede35f><div class="container" data-v-38ede35f><div class="prev" data-v-38ede35f><a class="link" href="/autoquery-service" data-v-38ede35f><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-prev" data-v-38ede35f><path d="M19,11H7.4l5.3-5.3c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-7,7c-0.1,0.1-0.2,0.2-0.2,0.3c-0.1,0.2-0.1,0.5,0,0.8c0.1,0.1,0.1,0.2,0.2,0.3l7,7c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.4,13H19c0.6,0,1-0.4,1-1S19.6,11,19,11z"></path></svg><span class="text" data-v-38ede35f>AutoQuery Data Service</span></a></div><div class="next" data-v-38ede35f><a class="link" href="/autoquery-crud" data-v-38ede35f><span class="text" data-v-38ede35f>AutoQuery CRUD</span><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-next" data-v-38ede35f><path d="M19.9,12.4c0.1-0.2,0.1-0.5,0-0.8c-0.1-0.1-0.1-0.2-0.2-0.3l-7-7c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l5.3,5.3H5c-0.6,0-1,0.4-1,1s0.4,1,1,1h11.6l-5.3,5.3c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l7-7C19.8,12.6,19.9,12.5,19.9,12.4z"></path></svg></a></div></div></div><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"access-http-specific-features-in-services.md\":\"5aca679e\",\"add-servicestack-reference.md\":\"6cfdb5bd\",\"adhoc-utils.md\":\"2a3ba824\",\"admin-users.md\":\"5cddb32e\",\"advanced-deployment-octopus-deploy.md\":\"5a552493\",\"advantages-of-message-based-web-services.md\":\"fb780623\",\"amazon-sqs-mq.md\":\"4c50b0ca\",\"api-design.md\":\"df52f36f\",\"api-first-development.md\":\"1bd5ab16\",\"api-key-authprovider.md\":\"f2bcbaf7\",\"appsettings.md\":\"25801517\",\"architecture-overview.md\":\"d525f991\",\"artists.md\":\"35f1cf04\",\"auth-anti-forgery.md\":\"162d95d6\",\"auth-openid.md\":\"778f3815\",\"auth-repository.md\":\"8dbfeec8\",\"auth-restricting-services.md\":\"8d43569e\",\"auth-signin-with-apple.md\":\"2cba07cb\",\"auth.md\":\"3858098e\",\"authentication-and-authorization.md\":\"7db66f8c\",\"authentication-identity-aspnet.md\":\"54e195f1\",\"authentication-identity-servicestack.md\":\"4326e4cd\",\"authentication-identityserver.md\":\"6d5c1201\",\"auto-batched-requests.md\":\"7cbb0d91\",\"auto-mapping.md\":\"be9da634\",\"autoquery-audit-log.md\":\"700aaea1\",\"autoquery-autogen.md\":\"d2e91b37\",\"autoquery-crud-bookings.md\":\"b5804fc0\",\"autoquery-crud.md\":\"d9ad04e5\",\"autoquery-data.md\":\"4b945784\",\"autoquery-dynamodb.md\":\"0410734c\",\"autoquery-memory.md\":\"a513c5c0\",\"autoquery-rdbms.md\":\"dd413590\",\"autoquery-service.md\":\"8e6c6c87\",\"autoquery.md\":\"d9d2cc03\",\"aws-getting-started.md\":\"81debcfe\",\"aws-pocodynamo.md\":\"21d6b27e\",\"aws.md\":\"100d750b\",\"azure-service-bus-mq.md\":\"81abbf90\",\"azure.md\":\"3e54dd0f\",\"background-mq.md\":\"bdaa7c70\",\"benchmarks.md\":\"b1450008\",\"built-in-profiling.md\":\"745eec36\",\"bundling-and-minification.md\":\"4f48e57f\",\"cache-aware-clients.md\":\"88c63ee8\",\"cacheresponse-attribute.md\":\"a8e06b80\",\"caching.md\":\"862e0f61\",\"cancellable-requests.md\":\"9efa6d25\",\"clients-overview.md\":\"bc6d2b25\",\"code-contribution-guide.md\":\"8dcb98e8\",\"community-resources.md\":\"52a17946\",\"compiled-razor-views.md\":\"c542a11b\",\"compression.md\":\"0a1a0537\",\"concurrency-model.md\":\"dd3c1aa5\",\"config-api.md\":\"5ba41540\",\"contributing.md\":\"b0d03deb\",\"contributors.md\":\"5b73a3c6\",\"corsfeature.md\":\"dcebf2a8\",\"create-webservice-from-scratch.md\":\"1ff85188\",\"create-your-first-webservice.md\":\"7aec1a00\",\"csharp-add-servicestack-reference.md\":\"6871ee20\",\"csharp-client.md\":\"7efffb29\",\"csharp-server-events-client.md\":\"254ce633\",\"csv-format.md\":\"c10e8271\",\"customize-http-responses.md\":\"ca2ccdf5\",\"customize-json-responses.md\":\"03444eba\",\"dart-add-servicestack-reference.md\":\"42ed00d5\",\"dart-client.md\":\"6c8cb8ff\",\"debugging.md\":\"1a79f857\",\"declarative-validation.md\":\"c103fd7e\",\"deploy-multiple-sites-to-aws.md\":\"290e569d\",\"deploy-netcore-docker-aws-ecs.md\":\"bd0050ad\",\"deploy-netcore-to-amazon-linux-2-ami.md\":\"66b07ac5\",\"design-message-based-apis.md\":\"a43b4967\",\"design-rest-services.md\":\"7f367424\",\"do-github-action-mix-deployment.md\":\"9bc25bf8\",\"dotnet-new.md\":\"31eb0d42\",\"dotnet-tool.md\":\"1a398ed5\",\"dump-utils.md\":\"a506e41d\",\"encrypted-messaging.md\":\"4fc1ea43\",\"endpoints.md\":\"1675a2a7\",\"error-handling.md\":\"56ce4a9a\",\"explore-servicestack.md\":\"3f9ab12b\",\"filter-attributes.md\":\"73035380\",\"form-hijacking-prevention.md\":\"cae51aac\",\"formats.md\":\"fbf773cc\",\"fsharp-add-servicestack-reference.md\":\"03fd7ddc\",\"fsharp.md\":\"7b6a5d50\",\"github-action-templates.md\":\"9b6af7a0\",\"grpc-android.md\":\"f21f43aa\",\"grpc-csharp.md\":\"1ebd22c8\",\"grpc-dart.md\":\"d84e814f\",\"grpc-flutter.md\":\"1ce0040a\",\"grpc-generic.md\":\"079c70c4\",\"grpc-go.md\":\"f4387640\",\"grpc-java.md\":\"2c5781ce\",\"grpc-nodejs.md\":\"2b5171de\",\"grpc-php.md\":\"2f9cc534\",\"grpc-python.md\":\"9a9d4aa6\",\"grpc-ruby.md\":\"1674e3a8\",\"grpc-ssl.md\":\"34e9238e\",\"grpc-swift.md\":\"297910ac\",\"grpc.md\":\"c076c5ce\",\"host-configuration.md\":\"6495c717\",\"hot-reloading.md\":\"9d331e21\",\"how-to-contribute.md\":\"15649079\",\"howto-write-unit-integration-tests.md\":\"51da867e\",\"html-css-and-javascript-minification.md\":\"c6a8c97c\",\"html5reportformat.md\":\"08ee7ee4\",\"http-caching.md\":\"d1bb3b6c\",\"http-utils.md\":\"b956fdbf\",\"iis.md\":\"ce9cee93\",\"index.md\":\"060f79e5\",\"install-rabbitmq-windows.md\":\"f45e2e7a\",\"install-redis-windows.md\":\"59a8e19d\",\"ioc.md\":\"d2997ab8\",\"jamstack-with-vitepress-servicestack.md\":\"608c45cf\",\"java-add-servicestack-reference.md\":\"289f6c20\",\"java-server-events-client.md\":\"4f1aecc1\",\"java.md\":\"fb59747f\",\"javascript-client.md\":\"fa83d353\",\"javascript-server-events-client.md\":\"203b7eb1\",\"js-utils.md\":\"a73f1b75\",\"json-format.md\":\"e20709fb\",\"json-jsv-and-xml.md\":\"e3b2b145\",\"jsv-format.md\":\"b76a9eb5\",\"jupyter-notebooks-csharp.md\":\"216894ae\",\"jupyter-notebooks-fsharp.md\":\"eb21a135\",\"jupyter-notebooks-python.md\":\"e098aaf9\",\"jupyter-notebooks-reporting.md\":\"b74417a6\",\"jupyter-notebooks.md\":\"3a306998\",\"jwt-authprovider.md\":\"c9fdc192\",\"kotlin-add-servicestack-reference.md\":\"17287860\",\"learning-servicestack.md\":\"aa49d408\",\"linux-hosting-options.md\":\"6d6bfd43\",\"lisp-tcp-repl-server.md\":\"44d867ae\",\"logging.md\":\"fa91aa8b\",\"markdown-razor.md\":\"f42a1678\",\"messagepack-format.md\":\"7b1fdcc0\",\"messaging.md\":\"f6c45d73\",\"metadata-page.md\":\"45ee08f3\",\"mix-github-actions-aws-ecs.md\":\"f0838f93\",\"mix-tool.md\":\"0a6acd5a\",\"modular-startup.md\":\"e12d3359\",\"modularizing-services.md\":\"60ea0847\",\"mono.md\":\"4983f35e\",\"multitenancy.md\":\"6d55282c\",\"mvc-integration.md\":\"7143e18a\",\"myget.md\":\"dd5e858b\",\"navigation.md\":\"e0e7e1ec\",\"netcore-deploy-rsync.md\":\"5159ace9\",\"netcore-localhost-cert.md\":\"08dd0ab3\",\"netcore-razor.md\":\"a0590fce\",\"netcore-redis.md\":\"1209a574\",\"netcore-windows-desktop.md\":\"4f74dcde\",\"netcore.md\":\"b071062d\",\"nhibernate.md\":\"6f5b39d7\",\"npm-new.md\":\"1af3c299\",\"nuget.md\":\"08cc272c\",\"openapi.md\":\"673cfa26\",\"order-of-operations.md\":\"40f4dd1b\",\"oss.md\":\"2289bd8f\",\"physical-project-structure.md\":\"20ec4ff6\",\"plugins.md\":\"540965d1\",\"post-command.md\":\"b8950813\",\"postman.md\":\"9a180326\",\"prerequisites.md\":\"6c3809e2\",\"protobuf-format.md\":\"37c21732\",\"proxy-feature.md\":\"e61c6365\",\"python-add-servicestack-reference.md\":\"9d8e3dba\",\"rabbit-mq.md\":\"a1b87965\",\"razor-notes.md\":\"cf32843f\",\"razor-ui-controls.md\":\"0090b2da\",\"razor-views-vs-content-pages.md\":\"14e89541\",\"real-world-performance.md\":\"38bf5608\",\"redis-mq.md\":\"f4198be1\",\"redis-server-events.md\":\"fcf0aa68\",\"reflection-utils.md\":\"198ffda3\",\"register.md\":\"82dfbd65\",\"release-notes-history.md\":\"a2a8a38a\",\"release-notes-v3.md\":\"0edaf6c6\",\"release-notes.md\":\"1d16bcb8\",\"releases_2016-summary.md\":\"ad91c91d\",\"releases_index.md\":\"37265124\",\"releases_v4.0.0.md\":\"4eb2215b\",\"releases_v4.0.06.md\":\"4d36cd54\",\"releases_v4.0.08.md\":\"984b9340\",\"releases_v4.0.09.md\":\"94b3eccc\",\"releases_v4.0.10.md\":\"c4a5c853\",\"releases_v4.0.11.md\":\"3ca5c171\",\"releases_v4.0.12.md\":\"786f3b98\",\"releases_v4.0.15.md\":\"1753042a\",\"releases_v4.0.18.md\":\"a7251afc\",\"releases_v4.0.19.md\":\"efc53ca9\",\"releases_v4.0.21.md\":\"df2df8b7\",\"releases_v4.0.22.md\":\"5bb83cf4\",\"releases_v4.0.23.md\":\"0e5241ad\",\"releases_v4.0.24.md\":\"093c4c1e\",\"releases_v4.0.30.md\":\"3e23df4f\",\"releases_v4.0.31.md\":\"1d60d178\",\"releases_v4.0.32.md\":\"4c4b8d32\",\"releases_v4.0.33.md\":\"5a9f90c7\",\"releases_v4.0.34.md\":\"83a31e6e\",\"releases_v4.0.35.md\":\"6d676dde\",\"releases_v4.0.36.md\":\"8fc82a7a\",\"releases_v4.0.38.md\":\"e4656414\",\"releases_v4.0.40.md\":\"43a7d160\",\"releases_v4.0.42.md\":\"b3608ff7\",\"releases_v4.0.44.md\":\"f7752079\",\"releases_v4.0.46.md\":\"ec3d7dec\",\"releases_v4.0.48.md\":\"b32158f2\",\"releases_v4.0.50.md\":\"e5c3e627\",\"releases_v4.0.52.md\":\"5f2aa233\",\"releases_v4.0.54.md\":\"a8838279\",\"releases_v4.0.56.md\":\"c65ac946\",\"releases_v4.0.58.md\":\"f9cc40af\",\"releases_v4.0.60.md\":\"f3347ce8\",\"releases_v4.0.62.md\":\"8c129333\",\"releases_v4.5.0.md\":\"72eec634\",\"releases_v4.5.10.md\":\"65460479\",\"releases_v4.5.12.md\":\"3733f00d\",\"releases_v4.5.14.md\":\"93d85277\",\"releases_v4.5.2.md\":\"a688537d\",\"releases_v4.5.4.md\":\"8e25c88b\",\"releases_v4.5.6.md\":\"f29d2257\",\"releases_v4.5.8.md\":\"27c6ea6e\",\"releases_v5.0.0.md\":\"de0e474d\",\"releases_v5.1.0.md\":\"571c39bb\",\"releases_v5.10.md\":\"9df1a030\",\"releases_v5.11.md\":\"558af174\",\"releases_v5.12.md\":\"68e2c3eb\",\"releases_v5.2.md\":\"2d046cc8\",\"releases_v5.4.md\":\"bfc48b5f\",\"releases_v5.5.md\":\"567c8c4f\",\"releases_v5.6.md\":\"5c574fab\",\"releases_v5.7.md\":\"5fde70ae\",\"releases_v5.8.md\":\"6623c1bf\",\"releases_v5.9.md\":\"63cf1a93\",\"request-and-response-filters.md\":\"8651bcc5\",\"request-logger.md\":\"c60c30b6\",\"roadmap.md\":\"65eae8ef\",\"routing.md\":\"82d8bdc4\",\"self-hosting.md\":\"2a08dd8c\",\"serialization-deserialization.md\":\"cbd7e0a4\",\"server-events-grpc.md\":\"e8d9acf4\",\"server-events.md\":\"a8957e84\",\"server-ui-controls.md\":\"2b1cea6e\",\"service-complexity-and-dto-roles.md\":\"a6b8c2c3\",\"service-discovery.md\":\"dee00640\",\"service-gateway.md\":\"10f8e7f9\",\"service-return-types.md\":\"afd9ad12\",\"servicestack-as-daemon-on-linux.md\":\"0a485957\",\"servicestack-client-umd.md\":\"91f55386\",\"servicestack-handler-resolution.md\":\"1d5dd8c3\",\"servicestack-in-fastcgi-hosted-on-nginx.md\":\"21102477\",\"servicestack-integration.md\":\"9b5b8321\",\"servicestack-side-by-side-with-another-web-framework.md\":\"a752d982\",\"servicify.md\":\"de11c6d8\",\"sessions.md\":\"96836b44\",\"silverlight-client.md\":\"ae4c9ed8\",\"simple-deployments-to-aws.md\":\"9eb09a6e\",\"simple-ioc.md\":\"6b3bfffc\",\"sitemaps.md\":\"5b103f36\",\"soap-support.md\":\"d5d5c7ab\",\"ss-utils-js.md\":\"91497b95\",\"ssl-redis-azure.md\":\"ef445a85\",\"starlibs.md\":\"0ff549aa\",\"studio-autoquery.md\":\"5ec497b7\",\"studio-users.md\":\"2ba671e1\",\"studio-validation-rules.md\":\"35f43a94\",\"studio.md\":\"c04e98cc\",\"svg.md\":\"52975a96\",\"swagger-api.md\":\"09cc4246\",\"swift-add-servicestack-reference.md\":\"e4aea86c\",\"swift.md\":\"269ec426\",\"templates-angular.md\":\"b3f14af1\",\"templates-angularjs-v15.md\":\"81b2a24b\",\"templates-aspnet-empty.md\":\"1aa7724b\",\"templates-aws.md\":\"2e6d944d\",\"templates-blazor.md\":\"f500c71b\",\"templates-corefx.md\":\"5064837d\",\"templates-desktop.md\":\"cf41dd87\",\"templates-dotnet-scripts.md\":\"175d936e\",\"templates-empty-starting.md\":\"953e54ea\",\"templates-install-servicestackvs.md\":\"0fae40c4\",\"templates-lite.md\":\"5662fbe3\",\"templates-nuxt.md\":\"f841ed27\",\"templates-overview.md\":\"0e4c3886\",\"templates-react.md\":\"050cf226\",\"templates-single-page-apps.md\":\"5fe42532\",\"templates-spa-components.md\":\"2e391b0b\",\"templates-svelte.md\":\"db440556\",\"templates-vue.md\":\"cbf01165\",\"templates-vuetify.md\":\"66fa352e\",\"templates-webpack.md\":\"aad092c4\",\"templates-websites.md\":\"c1c8ff13\",\"templates-windows-service.md\":\"0f2a4dc4\",\"testing.md\":\"000caa81\",\"typescript-add-servicestack-reference.md\":\"3c3dfd36\",\"typescript-server-events-client.md\":\"51bcffd2\",\"validation.md\":\"f615339e\",\"vbnet-add-servicestack-reference.md\":\"42e487a3\",\"vbnet.md\":\"52256954\",\"versioning.md\":\"fc27b482\",\"view-and-template-selection.md\":\"cfdc93c2\",\"virtual-file-system.md\":\"448ff13f\",\"vue-components.md\":\"83b853d8\",\"web-apply.md\":\"288d549e\",\"web-new.md\":\"4c2c70a7\",\"web-services.md\":\"5a10d19a\",\"web-tool.md\":\"8acea5b2\",\"web-trouble.md\":\"bd009447\",\"webhooks.md\":\"054a3ad3\",\"what-is-a-message-based-web-service.md\":\"b056bff1\",\"why-not-odata.md\":\"18a40fbe\",\"why-not-razor.md\":\"7cd20d6d\",\"why-remote-services-use-dtos.md\":\"839893b4\",\"why-servicestack.md\":\"a112e169\",\"wire-format.md\":\"a6488fbc\",\"world-validation.md\":\"4e5bcd66\",\"your-first-webservice-explained.md\":\"a46e23f7\",\"ztest.md\":\"5d9a6c2a\"}")</script>
    <script type="module" async src="/assets/app.14440598.js"></script>
    
  </body>
</html>